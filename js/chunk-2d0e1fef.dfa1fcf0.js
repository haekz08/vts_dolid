(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e1fef"],{"7d8d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn"},[a("b-tabs",{staticClass:"bg-white",attrs:{"content-class":"bg-white"}},[a("b-tab",{attrs:{active:""},scopedSlots:e._u([{key:"title",fn:function(){return[a("span",{staticClass:"d-md-down-none"},[e._v("All")])]},proxy:!0}])},[a("server-side-paginated-table",{ref:"displayTable",attrs:{fields:e.table_settings.fields,api_url:e.table_settings.api_url,delete_url:e.table_settings.delete_url,top_right_btn_redirect:!1}})],1)],1),a("b-modal",{attrs:{centered:"",size:"xl","body-class":"p-0","hide-footer":!0,"hide-header":!0,"modal-class":"xxl-modal"},on:{hide:function(t){return e.refresh()}},model:{value:e.voter_modal,callback:function(t){e.voter_modal=t},expression:"voter_modal"}},[a("div",{staticClass:"card bg-light mb-0"},[a("div",{staticClass:"card-header bg-dark text-white d-flex"},[a("h6",{staticClass:"mb-0"},[e._v("Voter Details")])]),a("div",{staticClass:"card-body bg-white",staticStyle:{"overflow-x":"auto"}},[a("voter",{attrs:{id:e.id}})],1)])])],1)},i=[],l=a("56d7"),r=a("73e4"),n=a("db49"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"card bg-light mb-3"},[a("div",{staticClass:"card-header bg-dark text-white"},[a("b-row",[a("b-col",[e.loading?a("div",[a("strong",[e._v(" Fetching result... ")])]):a("div",[a("font-awesome-icon",{attrs:{icon:"database"}}),a("strong",[e._v(" "+e._s(e.list.total)+" ")]),a("small",[e._v("Result/s found")])],1)])],1)],1),a("div",{staticClass:"card-body bg-white"},[a("b-row",{staticClass:"mb-3"},[a("b-col",{attrs:{sm:"2"}},[a("b-form-select",{attrs:{options:e.options,size:"sm"},on:{change:e.changeDisplayNo},model:{value:e.selected_display_no,callback:function(t){e.selected_display_no=t},expression:"selected_display_no"}})],1),a("b-col",{attrs:{sm:"6","offset-sm":"4"}},[a("b-input-group",[a("b-input-group-prepend",[a("b-input-group-text",{staticClass:"bg-dark text-white"},[a("font-awesome-icon",{attrs:{icon:"search"}})],1)],1),a("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Search",autocomplete:"off",size:"sm",debounce:"500"},nativeOn:{keypress:function(t){return e.searching(t)},keyup:function(t){return e.search(t)}},model:{value:e.search_term,callback:function(t){e.search_term=t},expression:"search_term"}}),a("b-input-group-append",[a("b-button",{staticClass:"bg-dark text-white px-4",attrs:{variant:"dark",size:"sm",disabled:""==e.search_term},on:{click:e.clearSearch}},[a("font-awesome-icon",{attrs:{icon:"times"}})],1)],1)],1)],1)],1),a("b-table",{attrs:{selectable:"",selectedVariant:"info","select-mode":"single",dark:e.dark,hover:e.hover,striped:e.striped,bordered:e.bordered,fixed:e.fixed,responsive:"sm",items:e.table_items,fields:e.captions,busy:e.loading,"show-empty":"","head-variant":"dark"},on:{"row-dblclicked":e.rowDbClicked},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[a("div",{staticClass:"text-center"},[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return e.deleteRow(t.item.id)}}},[a("font-awesome-icon",{attrs:{icon:"minus-circle"}}),e._v(" Delete ")],1)],1)]}},{key:"cell(name)",fn:function(t){return[0!=t.item.member_type_id?[a("font-awesome-icon",{staticClass:"text-success",attrs:{icon:"check-circle",title:"Member"}}),e._v(" "+e._s(t.item.name)),a("br"),null!=t.item.leader_id?a("small",[e._v("Leader : "+e._s(t.item.leader.name))]):e._e()]:[a("font-awesome-icon",{staticClass:"text-light",attrs:{icon:"check-circle",title:"Not a Member"}}),e._v(" "+e._s(t.item.name)+" ")]]}}])},[a("div",{staticClass:"text-center  my-2",attrs:{slot:"table-busy"},slot:"table-busy"},[a("br"),a("b-spinner",{staticClass:"align-middle",attrs:{small:""}}),a("br"),a("br"),a("strong",[e._v("Loading")])],1)]),e.list.total>0?a("nav",[a("b-pagination",{staticClass:"mb-0",attrs:{disabled:e.loading,align:"right","total-rows":e.total_rows,"per-page":e.per_page},on:{input:e.getAll},model:{value:e.list.current_page,callback:function(t){e.$set(e.list,"current_page",t)},expression:"list.current_page"}})],1):e._e()],1)])])},c=[],d={name:"server-side-paginated-table",inheritAttrs:!1,mixins:[r["a"]],props:{hover:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},bordered:{type:Boolean,default:!0},small:{type:Boolean,default:!0},fixed:{type:Boolean,default:!0},fields:{type:[Array,Object],default:function(){return[]}},dark:{type:Boolean,default:!1},api_url:{type:String,required:!0},delete_url:{type:String,required:!0},top_right_btn:{type:String,default:"",required:!1},top_right_btn_redirect:{type:Boolean,default:!0,required:!1}},data:function(){return{selected:[],list:{data:[],from:1,to:0,current_page:1,total:0,per_page:1},result:[],loading:!0,searchTimeout:function(){return{type:Function,default:function(){return{}}}},search_term:"",options:[{value:10,text:"Display 10 records"},{value:25,text:"Display 25 records"},{value:50,text:"Display 50 records"},{value:100,text:"Display 100 records"}],selected_display_no:10}},computed:{table_items:function(){return this.list.data},per_page:function(){return parseInt(this.list.per_page)},total_rows:function(){return parseInt(this.list.total)},captions:function(){return this.fields},total_selected:function(){return parseInt(this.selected.length)}},mounted:function(){this.getAll()},methods:{getAll:function(){var e=this;this.loading=!0,this.axios.get(this.api_url+"?page="+this.list.current_page+"&per_page="+this.selected_display_no+"&search="+this.search_term).then((function(t){var a=t.data;e.list=a,e.loading=!1})).catch((function(e){return console.log(e)}))},clickTopRightBtn:function(){l["bus"].$emit("serverSidePaginatedTableTopRightBtnClicked")},rowDbClicked:function(e){l["bus"].$emit("voterDbClick",e)},searching:function(){this.loading=!0,clearTimeout(this.searchTimeout)},search:function(){var e=this;this.searchTimeout=setTimeout((function(){e.list.current_page=1,e.getAll(),clearTimeout(e.searchTimeout)}),1e3)},clearSearch:function(){this.search_term="",this.getAll()},changeDisplayNo:function(){this.loading=!0,this.list.current_page=1,this.getAll()},deleteRow:function(e){var t=this;this.swalConfirmDelete((function(a){a.value&&(t.loading=!0,t.axios.delete(t.delete_url,{data:{id:e}}).then((function(e){t.getAll(),t.swal_transaction_completed_data.text="Record successfully deleted.",t.swalTransactionCompleted(),t.loading=!1})).catch((function(e){t.swalRequestError(),t.loading=!1})))}))}}},u=d,p=a("2877"),b=Object(p["a"])(u,o,c,!1,null,null,null),h=b.exports,m=a("da2e"),f={mixins:[r["a"]],components:{ServerSidePaginatedTable:h,Voter:m["a"]},data:function(){return{table_settings:{api_url:"voters/all",delete_url:"",fields:[{key:"precint.name",label:"PRECINT"},{key:"name",label:"NAME"},{key:"barangay.name",label:"BARANGAY"},{key:"address",label:"ADDRESS"},{key:"member_type.name",label:"TYPE"},{key:"total_child",label:"MEMBERS"}]},assets_path:{},voter:{},id:-1,voter_modal:!1}},created:function(){var e=this;this.assets_path=n["a"],l["bus"].$on("voterDbClick",(function(t){e.voter_modal=!0,e.id=t.id}))},methods:{refresh:function(){this.$refs.displayTable.getAll()}}},_=f,g=Object(p["a"])(_,s,i,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d0e1fef.dfa1fcf0.js.map