(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e51e95f"],{"73e4":function(t,e,a){"use strict";e["a"]={data:function(){return{swal_confirm_submit_data:{title:"Please confirm your submission.",text:"Your changes will be saved after this process.",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save it!",cancelButtonText:"Wait, im not done yet!"},swal_confirm_delete_data:{title:"Are you sure you want to delete this record?",text:"Note: This action will not be undone.",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete!",cancelButtonText:"No, I dont want to delete it!"},swal_transaction_completed_data:{title:"Transaction Completed!",text:"Data Successfully Saved.",icon:"success",showConfirmButton:!1,timer:1e3},swal_transaction_warning_data:{title:"Warning!",text:"Complete all necessary fields!",icon:"warning"},swal_transaction_error_data:{title:"Error!",text:"Please contact your Administrator.",icon:"error"}}},methods:{swalConfirmSubmit:function(t){this.$swal(this.swal_confirm_submit_data).then((function(e){t(e)}))},swalFieldsRequired:function(){this.$swal.fire("Error!","Please fill out all required fields","error")},swalRequestError:function(){this.$swal.fire(this.swal_transaction_error_data)},swalTransactionCompleted:function(){this.$swal.fire(this.swal_transaction_completed_data)},swalConfirmDelete:function(t){this.$swal(this.swal_confirm_delete_data).then((function(e){t(e)}))},swalTransactionWarning:function(){this.$swal.fire(this.swal_transaction_warning_data)}}}},"86db":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-inline text-nowrap"},[t.currency?[t._v("â‚± ")]:t._e(),t._v(t._s(t.input_value.toLocaleString("en-US",{minimumFractionDigits:t.decimal}))+" ")],2)},n=[],r={props:{input_value:{type:[Number,String],default:0,required:!0},decimal:{type:Number,default:2,required:!1},currency:{type:Boolean,default:!0,required:!1}},data:function(){return{}},created:function(){},methods:{}},i=r,o=a("2877"),c=Object(o["a"])(i,s,n,!1,null,null,null);e["a"]=c.exports},"91b0":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.is_saving?a("b-row",{staticClass:"loader",attrs:{"align-v":"center"}},[a("b-col",[a("b-spinner"),a("br"),a("br"),a("strong",[t._v("Loading")])],1)],1):t._e(),a("b-form",{on:{submit:t.save}},[a("b-form-group",{attrs:{label:"First Name:",description:"This field is required"}},[a("b-form-input",{attrs:{type:"text",required:""},model:{value:t.form.first_name,callback:function(e){t.$set(t.form,"first_name",e)},expression:"form.first_name"}})],1),a("b-form-group",{attrs:{label:"Middle Name:",description:"This field is required"}},[a("b-form-input",{attrs:{type:"text"},model:{value:t.form.middle_name,callback:function(e){t.$set(t.form,"middle_name",e)},expression:"form.middle_name"}})],1),a("b-form-group",{attrs:{label:"Last Name:",description:"This field is required"}},[a("b-form-input",{attrs:{type:"text",required:""},model:{value:t.form.last_name,callback:function(e){t.$set(t.form,"last_name",e)},expression:"form.last_name"}})],1),a("b-form-group",{attrs:{label:"Job Description:",description:"This field is required"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.job_description_id,expression:"form.job_description_id"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"job_description_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Please Select")]),t._l(t.job_descriptions,(function(e){return a("option",{domProps:{value:e.id}},[t._v(" "+t._s(e.description)+" ("+t._s(e.daily_rate.other_formats.format_1)+") ")])}))],2)]),a("div",{staticClass:"text-right"},[a("router-link",{attrs:{to:"/manpowers/all"}},[-1!=t.form.id?a("b-button",{staticClass:"mr-1",attrs:{variant:"dark",size:"sm"}},[a("font-awesome-icon",{attrs:{icon:"chevron-left"}}),t._v(" Back")],1):t._e()],1),a("b-button",{attrs:{type:"submit",variant:"dark",size:"sm"}},[a("font-awesome-icon",{attrs:{icon:"save"}}),t._v(" Save")],1)],1)],1)],1)},n=[],r=a("73e4"),i={mixins:[r["a"]],data:function(){return{form:{id:-1,first_name:"",middle_name:"",last_name:"",job_description_id:""},job_descriptions:[],form_copy:{},is_saving:!1}},created:function(){this.form_copy=JSON.parse(JSON.stringify(this.form)),"undefined"!==typeof this.$route.params.id&&this.get(),this.getFields()},methods:{get:function(){var t=this;this.is_saving=!0,this.axios.get("maintenance/manpowers/get",{params:{id:this.$route.params.id}}).then((function(e){t.form=e.data,t.is_saving=!1})).catch((function(t){return console.log(t)}))},save:function(){var t=this;event.preventDefault(),this.swalConfirmSubmit((function(e){e.value&&(t.is_saving=!0,t.axios.post("maintenance/manpowers/save",t.form).then((function(e){t.swalTransactionCompleted(),t.is_saving=!1,-1==t.form.id&&(t.form=JSON.parse(JSON.stringify(t.form_copy)))})).catch((function(e){t.swal_transaction_error_data.text=e.response.data,t.swalRequestError(),t.is_saving=!1})))}))},getFields:function(){var t=this;this.is_saving=!0,this.axios.get("maintenance/job_descriptions/all").then((function(e){t.job_descriptions=e.data,t.is_saving=!1})).catch((function(t){return console.log(t)}))}}},o=i,c=a("2877"),l=Object(c["a"])(o,s,n,!1,null,null,null);e["a"]=l.exports},"9c78":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"m-0"},[a("b-col",{staticClass:"p-0",attrs:{sm:"4"}},[a("div",{staticClass:"card bg-light mb-3"},[a("div",{staticClass:"card-header bg-dark text-white"},[a("h6",{staticClass:"mb-0"},[a("font-awesome-icon",{attrs:{icon:"edit"}}),t._v(" Update Record")],1)]),a("div",{staticClass:"card-body position-relative"},[a("form-component")],1)])]),a("b-col",{staticClass:"p-0 pl-2"},[a("div",{staticClass:"card bg-light mb-3"},[a("div",{staticClass:"card-header bg-dark text-white"},[a("h6",{staticClass:"mb-0"},[a("font-awesome-icon",{attrs:{icon:"list"}}),t._v(" Manpower Records")],1)]),a("div",{staticClass:"card-body position-relative"},[a("manpower-record")],1)])])],1)],1)},n=[],r=a("91b0"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"min-height":"200px"}},[t.is_saving?a("b-row",{staticClass:"loader",attrs:{"align-v":"center"}},[a("b-col",[a("b-spinner"),a("br"),a("br"),a("strong",[t._v("Loading")])],1)],1):t._e(),a("b-row",{staticClass:"m-0 mb-3"},[a("b-col",{staticClass:"text-center p-2 bg-dark text-white d-flex align-items-center justify-content-center",attrs:{cols:"1"}},[a("font-awesome-icon",{staticClass:"h2 mb-0",attrs:{icon:"list"}})],1),a("b-col",{staticClass:"p-3 bg-danger text-white d-flex align-items-center"},[a("div",[a("h4",{staticClass:"mb-0"},[a("strong",[a("number-format-component",{attrs:{input_value:Number(t.remaining_balance)}})],1)]),a("small",{staticClass:"text-muted text-uppercase font-weight-bold"},[t._v("REMAINING CA BALANCE")])])])],1),a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("b-tab",{attrs:{title:"Cash Advances",active:""}},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[t._v(" Date ")]),a("th",[t._v(" Check Number ")]),a("th",[t._v(" Voucher Number ")]),a("th",[t._v(" Amount ")]),a("th",[t._v(" Details ")])])]),a("tbody",t._l(t.result.cash_advances,(function(e,s){return a("tr",[a("td",[t._v(t._s(e.transaction_date))]),a("td",[t._v(t._s(e.check_number))]),a("td",[t._v(t._s(e.voucher_number))]),a("td",[a("number-format-component",{attrs:{input_value:Number(e.amount)}})],1),a("td",[t._v(t._s(e.details))])])})),0)])]),a("b-tab",{attrs:{title:"Payments"}},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[t._v(" Payroll Coverage ")]),a("th",[t._v(" Amount Paid ")])])]),a("tbody",t._l(t.result.payments,(function(e,s){return a("tr",[a("td",[a("b-badge",[t._v(t._s(e.date_from))]),t._v(" to "),a("b-badge",[t._v(t._s(e.date_to))])],1),a("td",[a("number-format-component",{attrs:{input_value:Number(e.ca_payment)}})],1)])})),0)])]),a("b-tab",{attrs:{title:"Duty Records"}},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[t._v(" Date ")]),a("th",[t._v(" Position ")]),a("th",[t._v(" Rate ")]),a("th",[t._v(" Regular Hours ")]),a("th",[t._v(" OT Hours ")]),a("th",[t._v(" Total Rate ")]),a("th",[t._v(" Project/ Item ")])])]),a("tbody",t._l(t.result.logs,(function(e,s){return a("tr",[a("td",[a("b-badge",[t._v(t._s(e.transaction_date))])],1),a("td",[t._v(t._s(e.description))]),a("td",[a("number-format-component",{attrs:{input_value:Number(e.daily_rate)}})],1),a("td",[t._v(t._s(e.regular_hours))]),a("td",[t._v(t._s(e.ot_hours))]),a("td",[a("number-format-component",{attrs:{input_value:Number(e.total)}})],1),a("th",[t._v(" "+t._s(e.project_description)+" | "+t._s(e.location_description)+" | "+t._s(e.structure_description)+" | "+t._s(e.item_description)+" ")])])})),0)])])],1)],1)},o=[],c=a("73e4"),l=a("86db"),u={mixins:[c["a"]],components:{NumberFormatComponent:l["a"]},data:function(){return{result:{},is_saving:!1}},computed:{remaining_balance:function(){var t=this.result.cash_advances.reduce((function(t,e){return t+Number(e.amount)}),0),e=this.result.payments.reduce((function(t,e){return t+Number(e.ca_payment)}),0);return Number(t-e)}},created:function(){this.get()},methods:{get:function(){var t=this;this.is_saving=!0,this.axios.get("maintenance/manpowers/get-records",{params:{id:this.$route.params.id}}).then((function(e){t.result=e.data,t.is_saving=!1})).catch((function(t){return console.log(t)}))}}},d=u,m=a("2877"),_=Object(m["a"])(d,i,o,!1,null,null,null),f=_.exports,b={components:{FormComponent:r["a"],ManpowerRecord:f},data:function(){return{}},created:function(){},methods:{}},p=b,v=Object(m["a"])(p,s,n,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-0e51e95f.82f41839.js.map