(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-edbe9206"],{"69ea":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn"},[a("server-side-paginated-table",{ref:"displayTable",attrs:{fields:e.table_settings.fields,api_url:e.table_settings.api_url,delete_url:e.table_settings.delete_url,refresh:e.refresh,top_right_btn_redirect:!1}}),a("b-modal",{ref:"modal",attrs:{centered:"",size:"md","body-class":"p-0","hide-footer":!0,"hide-header":!0},on:{hidden:function(t){e.selected_id=-1}},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("modal",{attrs:{selected_id:e.selected_id},on:{success:function(t){e.refresh=!0,e.modal=!1},close:function(t){return e.close()}}})],1)],1)},i=[],r=a("56d7"),n=a("aa61"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"card bg-light mb-0"},[a("div",{staticClass:"card-header bg-dark text-white d-flex justify-content-between align-items-center"},[a("h6",{staticClass:"mb-0"},[a("font-awesome-icon",{attrs:{icon:"plus-circle"}}),e._v(" Add New User")],1)]),a("div",{staticClass:"card-body bg-white position-relative"},[e.is_saving?a("b-row",{staticClass:"loader",attrs:{"align-v":"center"}},[a("b-col",[a("b-spinner"),a("br"),a("br"),a("strong",[e._v("Loading")])],1)],1):e._e(),e.allowAction?e._e():a("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("You have no "),a("b",[e._v("PERMISSION")]),e._v(" to make changes in this module.")]),a("b-form",{on:{submit:e.save}},[a("b-form-group",{attrs:{label:"Name:",description:"This field is required"}},[a("b-form-input",{attrs:{type:"text",required:"",readonly:!e.allowAction},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("b-form-group",{attrs:{label:"Username:",description:"This field is required"}},[a("b-form-input",{attrs:{type:"text",required:"",readonly:!e.allowAction},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("b-form-group",{attrs:{label:"Role:",description:"This field is required"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.role_id,expression:"form.role_id"}],staticClass:"form-control",attrs:{required:"",readonly:!e.allowAction},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"role_id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("Please Select")]),e._l(e.roles,(function(t){return a("option",{domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2)]),-1==e.form.id?a("b-form-group",{attrs:{label:"Password:",description:"This field is required"}},[a("b-form-input",{attrs:{type:"password",required:"",readonly:!e.allowAction},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),a("div",{staticClass:"text-right"},[-1!=e.form.id&&e.allowAction?a("b-button",{staticClass:"float-left",attrs:{variant:"danger",size:"sm"},on:{click:e.deleteData}},[a("font-awesome-icon",{attrs:{icon:"minus-circle"}}),e._v(" Delete ")],1):e._e(),a("b-button",{staticClass:"mr-1",attrs:{variant:"dark",size:"sm"},on:{click:e.close}},[a("font-awesome-icon",{attrs:{icon:"times-circle"}}),e._v(" Cancel ")],1),e.allowAction?a("b-button",{attrs:{type:"submit",variant:"dark",size:"sm"}},[a("font-awesome-icon",{attrs:{icon:"save"}}),e._v(" Save")],1):e._e()],1)],1)],1)])])},l=[],c=a("73e4"),d={mixins:[c["a"]],props:{selected_id:{type:Number,default:-1,required:!1}},data:function(){return{form:{id:-1,role_id:"",name:"",email:"",password:""},form_copy:{id:-1,role_id:"",name:"",email:"",password:""},roles:[],is_saving:!1}},created:function(){this.form_copy=JSON.parse(JSON.stringify(this.form)),-1!=this.selected_id&&this.get(),this.getFields()},watch:{selected_id:{immediate:!0,handler:function(){-1!=this.selected_id&&this.get()}}},computed:{allowAction:function(){return!0}},methods:{getFields:function(){var e=this;this.is_saving=!0,this.axios.get("roles/all").then((function(t){e.roles=t.data,e.is_saving=!1})).catch((function(e){return console.log(e)}))},get:function(){var e=this;this.is_saving=!0,this.axios.get("users/get",{params:{id:this.selected_id}}).then((function(t){e.form=t.data,e.is_saving=!1})).catch((function(e){return console.log(e)}))},save:function(){var e=this;event.preventDefault(),this.swalConfirmSubmit((function(t){t.value&&(e.is_saving=!0,e.axios.post("users/save",e.form).then((function(t){e.swalTransactionCompleted(),e.is_saving=!1,-1==e.form.id&&(e.form=JSON.parse(JSON.stringify(e.form_copy))),e.$emit("success")})).catch((function(t){e.swal_transaction_error_data.text=t.response.data,e.swalRequestError(),e.is_saving=!1})))}))},close:function(){this.$emit("close")},deleteData:function(){var e=this;this.swalConfirmDelete((function(t){t.value&&(e.loading=!0,e.axios.delete("users/delete",{data:{id:e.selected_id}}).then((function(t){e.swal_transaction_completed_data.text="Record successfully deleted.",e.swalTransactionCompleted(),e.is_saving=!1,e.$emit("success")})).catch((function(t){e.swal_transaction_error_data.text=t.response.data,e.swalRequestError(),e.is_saving=!1})))}))}}},u=d,f=a("2877"),m=Object(f["a"])(u,o,l,!1,null,null,null),p=m.exports,_={components:{ServerSidePaginatedTable:n["a"],Modal:p},data:function(){return{table_settings:{api_url:"users/all",delete_url:"users/delete",fields:[{key:"name",label:"Name"},{key:"email",label:"Email Address"},{key:"role.name",label:"Role"},{key:"formatted_created_at.other_formats.format_1",label:"Created At"}]},modal:!1,refresh:!1,selected_id:-1}},created:function(){var e=this;r["bus"].$on("serverSidePaginatedTableDbClick",(function(t){e.modal=!0,e.selected_id=t.id})),r["bus"].$on("serverSidePaginatedTableTopRightBtnClicked",(function(){e.modal=!0})),r["bus"].$on("refreshDone",(function(){e.refresh=!1}))},methods:{close:function(){this.$refs["modal"].hide()}}},h=_,b=Object(f["a"])(h,s,i,!1,null,null,null);t["default"]=b.exports},"73e4":function(e,t,a){"use strict";t["a"]={data:function(){return{swal_confirm_submit_data:{title:"Please confirm your submission.",text:"Your changes will be saved after this process.",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save it!",cancelButtonText:"Wait, im not done yet!"},swal_confirm_delete_data:{title:"Are you sure you want to delete this record?",text:"Note: This action will not be undone.",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete!",cancelButtonText:"No, I dont want to delete it!"},swal_transaction_completed_data:{title:"Transaction Completed!",text:"Data Successfully Saved.",icon:"success",showConfirmButton:!1,timer:1e3},swal_transaction_warning_data:{title:"Warning!",text:"Complete all necessary fields!",icon:"warning"},swal_transaction_error_data:{title:"Error!",text:"Please contact your Administrator.",icon:"error"}}},methods:{swalConfirmSubmit:function(e){this.$swal(this.swal_confirm_submit_data).then((function(t){e(t)}))},swalFieldsRequired:function(){this.$swal.fire("Error!","Please fill out all required fields","error")},swalRequestError:function(){this.$swal.fire(this.swal_transaction_error_data)},swalTransactionCompleted:function(){this.$swal.fire(this.swal_transaction_completed_data)},swalConfirmDelete:function(e){this.$swal(this.swal_confirm_delete_data).then((function(t){e(t)}))},swalTransactionWarning:function(){this.$swal.fire(this.swal_transaction_warning_data)}}}},aa61:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"card bg-light mb-3"},[a("div",{staticClass:"card-header bg-dark text-white"},[a("b-row",[a("b-col",[e.loading?a("div",[a("strong",[e._v(" Fetching result... ")])]):a("div",[a("font-awesome-icon",{attrs:{icon:"database"}}),a("strong",[e._v(" "+e._s(e.list.total)+" ")]),a("small",[e._v("Result/s found")])],1)]),a("b-col",{staticClass:"text-right"},[e.top_right_btn_redirect?a("router-link",{attrs:{to:"add"}},[a("b-button",{attrs:{variant:"secondary",size:"sm"}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" Add New Record ")],1)],1):a("b-button",{attrs:{variant:"secondary",size:"sm"},on:{click:e.clickTopRightBtn}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" Add New Record ")],1)],1)],1)],1),a("div",{staticClass:"card-body bg-white"},[a("b-row",{staticClass:"mb-3"},[a("b-col",{attrs:{sm:"2"}},[a("b-form-select",{attrs:{options:e.options,size:"sm"},on:{change:e.changeDisplayNo},model:{value:e.selected_display_no,callback:function(t){e.selected_display_no=t},expression:"selected_display_no"}})],1),a("b-col",{attrs:{sm:"6","offset-sm":"4"}},[a("b-input-group",[a("b-input-group-prepend",[a("b-input-group-text",{staticClass:"bg-dark text-white"},[a("font-awesome-icon",{attrs:{icon:"search"}})],1)],1),a("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Search",autocomplete:"off",size:"sm"},nativeOn:{keypress:function(t){return e.searching(t)},keyup:function(t){return e.search(t)}},model:{value:e.search_term,callback:function(t){e.search_term=t},expression:"search_term"}}),a("b-input-group-append",[a("b-button",{staticClass:"bg-dark text-white px-4",attrs:{variant:"dark",size:"sm",disabled:""==e.search_term},on:{click:e.clearSearch}},[a("font-awesome-icon",{attrs:{icon:"times"}})],1)],1)],1)],1)],1),a("b-table",{attrs:{selectable:"",selectedVariant:"info","select-mode":"single",dark:e.dark,hover:e.hover,striped:e.striped,bordered:e.bordered,fixed:e.fixed,responsive:"sm",items:e.table_items,fields:e.captions,busy:e.loading,"show-empty":"","head-variant":"dark"},on:{"row-dblclicked":e.rowDbClicked},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[a("div",{staticClass:"text-center"},[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return e.deleteRow(t.item.id)}}},[a("font-awesome-icon",{attrs:{icon:"minus-circle"}}),e._v(" Delete ")],1)],1)]}}])},[a("div",{staticClass:"text-center  my-2",attrs:{slot:"table-busy"},slot:"table-busy"},[a("br"),a("b-spinner",{staticClass:"align-middle",attrs:{small:""}}),a("br"),a("br"),a("strong",[e._v("Loading")])],1)]),e.list.total>0?a("nav",[a("b-pagination",{staticClass:"mb-0",attrs:{disabled:e.loading,align:"right","total-rows":e.total_rows,"per-page":e.per_page},on:{input:e.getAll},model:{value:e.list.current_page,callback:function(t){e.$set(e.list,"current_page",t)},expression:"list.current_page"}})],1):e._e()],1)])])},i=[],r=a("56d7"),n=a("73e4"),o={name:"server-side-paginated-table",inheritAttrs:!1,mixins:[n["a"]],props:{hover:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},bordered:{type:Boolean,default:!0},small:{type:Boolean,default:!0},fixed:{type:Boolean,default:!0},fields:{type:[Array,Object],default:function(){return[]}},dark:{type:Boolean,default:!1},api_url:{type:String,required:!0},delete_url:{type:String,required:!0},top_right_btn:{type:String,default:"",required:!1},top_right_btn_redirect:{type:Boolean,default:!0,required:!1}},data:function(){return{selected:[],list:{data:[],from:1,to:0,current_page:1,total:0,per_page:1},result:[],loading:!0,searchTimeout:function(){return{type:Function,default:function(){return{}}}},search_term:"",options:[{value:10,text:"Display 10 records"},{value:25,text:"Display 25 records"},{value:50,text:"Display 50 records"},{value:100,text:"Display 100 records"}],selected_display_no:10}},computed:{table_items:function(){return this.list.data},per_page:function(){return parseInt(this.list.per_page)},total_rows:function(){return parseInt(this.list.total)},captions:function(){return this.fields},total_selected:function(){return parseInt(this.selected.length)}},mounted:function(){this.getAll()},methods:{getAll:function(){var e=this;this.loading=!0,this.axios.get(this.api_url+"?page="+this.list.current_page+"&per_page="+this.selected_display_no+"&search="+this.search_term).then((function(t){var a=t.data;e.list=a,e.loading=!1})).catch((function(e){return console.log(e)}))},clickTopRightBtn:function(){r["bus"].$emit("serverSidePaginatedTableTopRightBtnClicked")},rowDbClicked:function(e){r["bus"].$emit("serverSidePaginatedTableDbClick",e)},searching:function(){this.loading=!0,clearTimeout(this.searchTimeout)},search:function(){var e=this;this.searchTimeout=setTimeout((function(){e.list.current_page=1,e.getAll(),clearTimeout(e.searchTimeout)}),1e3)},clearSearch:function(){this.search_term="",this.getAll()},changeDisplayNo:function(){this.loading=!0,this.list.current_page=1,this.getAll()},deleteRow:function(e){var t=this;this.swalConfirmDelete((function(a){a.value&&(t.loading=!0,t.axios.delete(t.delete_url,{data:{id:e}}).then((function(e){t.getAll(),t.swal_transaction_completed_data.text="Record successfully deleted.",t.swalTransactionCompleted(),t.loading=!1})).catch((function(e){t.swalRequestError(),t.loading=!1})))}))}}},l=o,c=a("2877"),d=Object(c["a"])(l,s,i,!1,null,null,null);t["a"]=d.exports}}]);
//# sourceMappingURL=chunk-edbe9206.cc730b9b.js.map