(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9c08694"],{6840:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("bread-crumbs"),r("b-card",{attrs:{"no-body":""}},[r("b-tabs",{attrs:{pills:"",card:"",vertical:"","nav-class":"bg-secondary p-2","active-nav-item-class":"bg-dark text-white","nav-wrapper-class":"nav-wrapper-custom-width"}},[r("b-tab",{attrs:{"title-item-class":"mb-2"}},[r("template",{slot:"title"},[r("h6",{staticClass:"mb-0 p-2 d-flex justify-content-between align-items-center"},[r("span",[t._v("Structure Details")]),r("div",{staticClass:"text-center",staticStyle:{width:"25px"}},[r("font-awesome-icon",{attrs:{icon:"edit"}})],1)])]),r("b-card-text",{staticClass:"w-50"},[r("project-location-structure-form-component",{attrs:{project_location_structure:t.project_location_structure}})],1)],2),r("b-tab",{attrs:{"title-item-class":"mb-0",active:""}},[r("template",{slot:"title"},[r("h6",{staticClass:"mb-0 p-2 d-flex justify-content-between align-items-center"},[r("span",[t._v("Items")]),r("div",{staticClass:"text-center",staticStyle:{width:"25px"}},[r("font-awesome-icon",{attrs:{icon:"map-marker"}})],1)])]),"undefined"!=typeof t.project_location_structure.labor_est?r("CRow",[r("CCol",[r("CWidgetBrand",{staticClass:"w-100 custom-font",attrs:{color:"info",rightHeader:t.project_location_structure.labor_est.other_formats.format_1,rightFooter:"ESTIMATE",leftHeader:t.project_location_structure.labor.other_formats.format_1,leftFooter:"USAGE"}},[r("div",{staticClass:"p-4"},[r("font-awesome-icon",{staticClass:"h1 mb-0",attrs:{icon:"users"}})],1)])],1),r("CCol",[r("CWidgetBrand",{staticClass:"w-100 custom-font",attrs:{color:"success",rightHeader:t.project_location_structure.equipment_est.other_formats.format_1,rightFooter:"ESTIMATE",leftHeader:t.project_location_structure.equipment.other_formats.format_1,leftFooter:"USAGE"}},[r("div",{staticClass:"p-4"},[r("font-awesome-icon",{staticClass:"h1 mb-0",attrs:{icon:"truck"}})],1)])],1),r("CCol",[r("CWidgetBrand",{staticClass:"w-100 custom-font",attrs:{color:"warning",rightHeader:t.project_location_structure.material_est.other_formats.format_1,rightFooter:"ESTIMATE",leftHeader:t.project_location_structure.material.other_formats.format_1,leftFooter:"USAGE"}},[r("div",{staticClass:"p-4"},[r("font-awesome-icon",{staticClass:"h1 mb-0",attrs:{icon:"cubes"}})],1)])],1),r("CCol",[r("CWidgetBrand",{staticClass:"w-100 custom-font",attrs:{color:"primary",rightHeader:"NA",rightFooter:"ESTIMATE",leftHeader:t.project_location_structure.other_expense.other_formats.format_1,leftFooter:"USAGE"}},[r("div",{staticClass:"p-4"},[r("font-awesome-icon",{staticClass:"h1 mb-0",attrs:{icon:"list-ol"}})],1)])],1)],1):t._e(),r("b-row",{staticClass:"m-0"},[r("b-col",{staticClass:"p-0"},[r("div",{staticClass:"card bg-light mb-3"},[r("div",{staticClass:"card-header bg-dark text-white d-flex justify-content-between align-items-center"},[r("h6",{staticClass:"mb-0"},[r("font-awesome-icon",{attrs:{icon:"map-marker"}}),t._v(" Project Locations")],1),r("b-button",{attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.add_project_location_structure_item_modal=!0}}},[r("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" Add New Item ")],1)],1),r("div",{staticClass:"card-body bg-white"},[r("table",{staticClass:"table border"},[r("thead",{staticClass:"bg-light text-dark"},[r("tr",[r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Item Name")]),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Manpower Expenses")]),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Equipment Expenses")]),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Material Expenses")]),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Other Expenses")]),r("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Action")])])]),r("tbody",t._l(t.project_location_structure.project_location_structure_items,(function(e,i){return r("tr",[r("th",{attrs:{scope:"row"}},[t._v(t._s(e.description))]),r("td",{staticClass:"text-right"},[r("number-format-component",{attrs:{input_value:Number(e.labor.default)}})],1),r("td",{staticClass:"text-right"},[r("number-format-component",{attrs:{input_value:Number(e.equipment.default)}})],1),r("td",{staticClass:"text-right"},[r("number-format-component",{attrs:{input_value:Number(e.material.default)}})],1),r("td",{staticClass:"text-right"},[r("number-format-component",{attrs:{input_value:Number(e.other_expense.default)}})],1),r("td",{staticClass:"text-center"},[r("router-link",{attrs:{to:{path:String(e.id)},append:""}},[r("b-button",{staticClass:"mr-2",attrs:{type:"submit",size:"sm",variant:"info"}},[r("font-awesome-icon",{attrs:{icon:"edit"}}),t._v(" View")],1)],1),r("b-button",{attrs:{type:"submit",size:"sm",variant:"danger"},on:{click:function(r){return t.deleteRow(e.id)}}},[r("font-awesome-icon",{attrs:{icon:"minus-circle"}}),t._v(" Remove")],1)],1)])})),0)])])])])],1)],2),r("b-tab",{attrs:{"title-item-class":"mb-2"}},[r("template",{slot:"title"},[r("h6",{staticClass:"mb-0 p-2 d-flex justify-content-between align-items-center"},[r("span",[t._v("Reports")]),r("div",{staticClass:"text-center",staticStyle:{width:"25px"}},[r("font-awesome-icon",{attrs:{icon:"chart-pie"}})],1)])]),r("b-card-text",{staticClass:"w-50"},[r("reports",{attrs:{project_location_structure:t.project_location_structure}})],1)],2)],1)],1),r("b-modal",{attrs:{centered:"",size:"md","body-class":"p-0","hide-footer":!0,"hide-header":!0},model:{value:t.add_project_location_structure_item_modal,callback:function(e){t.add_project_location_structure_item_modal=e},expression:"add_project_location_structure_item_modal"}},[r("project-location-structure-item-form-component",{on:{addProjectLocationStructureItem:t.addProjectLocationStructureItem}})],1)],1)},a=[],s=r("56d7"),o=r("73e4"),n=r("8210"),c=r("d474"),l=r("86db"),u=r("edf9"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-row",{staticClass:"m-0"},[r("b-col",{staticClass:"p-0"},[r("div",{staticClass:"card bg-light mb-0"},[r("div",{staticClass:"card-header bg-dark text-white"},[r("h6",{staticClass:"mb-0"},[r("font-awesome-icon",{attrs:{icon:"chart-pie"}}),t._v(" Reports")],1)]),r("div",{staticClass:"card-body bg-white"},[r("div",{staticClass:"list-group"},[r("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.progressReport()}}},[t._v("Progress Report")]),r("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.billOfMaterials()}}},[t._v("Bill of Materials")]),r("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.detailedEstimate()}}},[t._v("Detailed Estimate")]),r("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.workAccomplishment()}}},[t._v("Work Accomplishment Report")]),r("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.projectBudget()}}},[t._v("Project Budget")]),r("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.costForecast()}}},[t._v("Monthly Cost Forecast")])])])])])],1)],1)},m=[],_={mixins:[o["a"]],props:{project_location_structure:{type:Object,default:function(){},required:!1}},data:function(){return{}},watch:{project_location_structure:{immediate:!0,deep:!0,handler:function(){}}},created:function(){},methods:{progressReport:function(){var t=this.$router.resolve({path:"/reports/progress/"+this.project_location_structure.id});window.open(t.href,"_blank")},billOfMaterials:function(){var t=this.$router.resolve({path:"/reports/bill-of-materials/"+this.project_location_structure.id});window.open(t.href,"_blank")},detailedEstimate:function(){var t=this.$router.resolve({path:"/reports/detailed-estimate/"+this.project_location_structure.id});window.open(t.href,"_blank")},workAccomplishment:function(){var t=this.$router.resolve({path:"/reports/work-accomplishment-per-item/"+this.project_location_structure.id});window.open(t.href,"_blank")},projectBudget:function(){var t=this.$router.resolve({path:"/reports/project-budget/"+this.project_location_structure.id});window.open(t.href,"_blank")},costForecast:function(){var t=this.$router.resolve({path:"/reports/monthly-cost-forecast-per-item/"+this.project_location_structure.id});window.open(t.href,"_blank")}}},p=_,f=r("2877"),h=Object(f["a"])(p,d,m,!1,null,null,null),b=h.exports,v={mixins:[o["a"]],components:{ProjectLocationStructureFormComponent:c["a"],ProjectLocationStructureItemFormComponent:n["a"],NumberFormatComponent:l["a"],BreadCrumbs:u["a"],Reports:b},data:function(){return{project_location_structure:{description:"",project_location_structure_items:[]},is_saving:!1,add_project_location_structure_item_modal:!1}},created:function(){var t=this;this.get(),s["bus"].$on("refreshComputations",(function(){t.get()}))},methods:{addProjectLocationStructureItem:function(){this.add_project_location_structure_item_modal=!1,this.get()},get:function(){var t=this;this.is_saving=!0,this.axios.get("project/location/structures/get",{params:{id:this.$route.params.project_location_structure_id}}).then((function(e){t.project_location_structure=e.data,t.is_saving=!1})).catch((function(t){return console.log(t)}))},deleteRow:function(t){var e=this;this.swalConfirmDelete((function(r){r.value&&(e.is_saving=!0,e.axios.delete("project/location/structure/items/delete",{data:{id:t}}).then((function(t){e.swalTransactionCompleted(),e.is_saving=!1,s["bus"].$emit("refreshComputations")})).catch((function(t){e.swal_transaction_error_data.text=t.response.data,e.swalRequestError(),e.is_saving=!1})))}))}}},g=v,w=(r("cc30"),Object(f["a"])(g,i,a,!1,null,null,null));e["default"]=w.exports},"73e4":function(t,e,r){"use strict";e["a"]={data:function(){return{swal_confirm_submit_data:{title:"Please confirm your submission.",text:"Your changes will be saved after this process.",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save it!",cancelButtonText:"Wait, im not done yet!"},swal_confirm_delete_data:{title:"Are you sure you want to delete this record?",text:"Note: This action will not be undone.",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete!",cancelButtonText:"No, I dont want to delete it!"},swal_transaction_completed_data:{title:"Transaction Completed!",text:"Data Successfully Saved.",icon:"success",showConfirmButton:!1,timer:1e3},swal_transaction_warning_data:{title:"Warning!",text:"Complete all necessary fields!",icon:"warning"},swal_transaction_error_data:{title:"Error!",text:"Please contact your Administrator.",icon:"error"}}},methods:{swalConfirmSubmit:function(t){this.$swal(this.swal_confirm_submit_data).then((function(e){t(e)}))},swalFieldsRequired:function(){this.$swal.fire("Error!","Please fill out all required fields","error")},swalRequestError:function(){this.$swal.fire(this.swal_transaction_error_data)},swalTransactionCompleted:function(){this.$swal.fire(this.swal_transaction_completed_data)},swalConfirmDelete:function(t){this.$swal(this.swal_confirm_delete_data).then((function(e){t(e)}))},swalTransactionWarning:function(){this.$swal.fire(this.swal_transaction_warning_data)}}}},8210:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-row",{staticClass:"m-0"},[r("b-col",{staticClass:"p-0"},[r("div",{staticClass:"card bg-light mb-0"},[r("div",{staticClass:"card-header bg-dark text-white"},[r("h6",{staticClass:"mb-0"},[r("font-awesome-icon",{attrs:{icon:"plus-circle"}}),t._v(" Add New Item")],1)]),r("div",{staticClass:"card-body bg-white"},[t.is_saving?r("b-row",{staticClass:"loader",attrs:{"align-v":"center"}},[r("b-col",[r("b-spinner"),r("br"),r("br"),r("strong",[t._v("Loading")])],1)],1):t._e(),r("b-form",{on:{submit:t.save}},[r("b-form-group",{attrs:{label:"Item Name:",description:"This field is required"}},[r("b-form-input",{attrs:{type:"text",required:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),r("b-form-group",{attrs:{label:"Item Unit:",description:"This field is required"}},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.form.item_unit_id,expression:"form.item_unit_id"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"item_unit_id",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[t._v("Please Select")]),t._l(t.item_units,(function(e){return r("option",{domProps:{value:e.id}},[t._v(" "+t._s(e.description)+" ")])}))],2)]),r("b-form-group",{attrs:{label:"Qty:",description:"This field is required"}},[r("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:t.form.qty,callback:function(e){t.$set(t.form,"qty",e)},expression:"form.qty"}})],1),r("b-form-group",{attrs:{label:"Estimated Hours:",description:"This field is required"}},[r("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:t.form.estimated_hours,callback:function(e){t.$set(t.form,"estimated_hours",e)},expression:"form.estimated_hours"}})],1),r("b-form-group",{attrs:{label:"Estimated Days:",description:"This field is required"}},[r("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:t.form.estimated_days,callback:function(e){t.$set(t.form,"estimated_days",e)},expression:"form.estimated_days"}})],1),r("b-form-group",{attrs:{label:"Estimated Budget:",description:"This field is required"}},[r("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:t.form.estimated_budget,callback:function(e){t.$set(t.form,"estimated_budget",e)},expression:"form.estimated_budget"}})],1),r("div",{staticClass:"text-right"},[r("b-button",{attrs:{type:"submit",variant:"dark",size:"sm"}},[r("font-awesome-icon",{attrs:{icon:"save"}}),t._v(" Save")],1)],1)],1)],1)])])],1)],1)},a=[],s=r("73e4"),o={mixins:[s["a"]],props:{project_location_structure_item:{type:Object,default:function(){},required:!1}},data:function(){return{form:{id:-1,description:"",project_location_structure_id:this.$route.params.project_location_structure_id,item_unit_id:"",qty:"",estimated_hours:"",estimated_days:"",estimated_budget:""},is_saving:!1,item_units:[]}},watch:{project_location_structure_item:{immediate:!0,deep:!0,handler:function(){"undefined"!==typeof this.project_location_structure_item&&this.get()}}},created:function(){"undefined"!==typeof this.project_location_structure_item&&this.get(),this.getFields()},methods:{get:function(){this.is_saving=!0,this.form=this.project_location_structure_item,this.is_saving=!1},save:function(){var t=this;event.preventDefault(),this.swalConfirmSubmit((function(e){e.value&&(t.is_saving=!0,t.axios.post("project/location/structure/items/save",t.form).then((function(e){t.swalTransactionCompleted(),t.is_saving=!1,t.$emit("addProjectLocationStructureItem")})).catch((function(e){t.swal_transaction_error_data.text=e.response.data,t.swalRequestError(),t.is_saving=!1})))}))},getFields:function(){var t=this;this.is_saving=!0,this.axios.get("maintenance/item_units/all").then((function(e){t.item_units=e.data,t.is_saving=!1})).catch((function(t){return console.log(t)}))}}},n=o,c=r("2877"),l=Object(c["a"])(n,i,a,!1,null,null,null);e["a"]=l.exports},"86db":function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-inline text-nowrap"},[t.currency?[t._v("â‚± ")]:t._e(),t._v(t._s(t.input_value.toLocaleString("en-US",{minimumFractionDigits:t.decimal}))+" ")],2)},a=[],s={props:{input_value:{type:[Number,String],default:0,required:!0},decimal:{type:Number,default:2,required:!1},currency:{type:Boolean,default:!0,required:!1}},data:function(){return{}},created:function(){},methods:{}},o=s,n=r("2877"),c=Object(n["a"])(o,i,a,!1,null,null,null);e["a"]=c.exports},b90c:function(t,e,r){},cc30:function(t,e,r){"use strict";var i=r("b90c"),a=r.n(i);a.a},d474:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-row",{staticClass:"m-0"},[r("b-col",{staticClass:"p-0"},[r("div",{staticClass:"card bg-light mb-0"},[r("div",{staticClass:"card-header bg-dark text-white"},[r("h6",{staticClass:"mb-0"},[r("font-awesome-icon",{attrs:{icon:"plus-circle"}}),t._v(" Add New Structure")],1)]),r("div",{staticClass:"card-body bg-white"},[t.is_saving?r("b-row",{staticClass:"loader",attrs:{"align-v":"center"}},[r("b-col",[r("b-spinner"),r("br"),r("br"),r("strong",[t._v("Loading")])],1)],1):t._e(),r("b-form",{on:{submit:t.save}},[r("b-form-group",{attrs:{label:"Structure Name:",description:"This field is required"}},[r("b-form-input",{attrs:{type:"text",required:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),r("div",{staticClass:"text-right"},[r("b-button",{attrs:{type:"submit",variant:"dark",size:"sm"}},[r("font-awesome-icon",{attrs:{icon:"save"}}),t._v(" Save")],1)],1)],1)],1)])])],1)],1)},a=[],s=r("73e4"),o={mixins:[s["a"]],props:{project_location_structure:{type:Object,default:function(){},required:!1}},data:function(){return{form:{id:-1,description:"",project_location_id:this.$route.params.project_location_id},is_saving:!1}},watch:{project_location_structure:{immediate:!0,deep:!0,handler:function(){"undefined"!==typeof this.project_location_structure&&this.get()}}},created:function(){"undefined"!==typeof this.project_location_structure&&this.get()},methods:{get:function(){this.is_saving=!0,this.form=this.project_location_structure,this.is_saving=!1},save:function(){var t=this;event.preventDefault(),this.swalConfirmSubmit((function(e){e.value&&(t.is_saving=!0,t.axios.post("project/location/structures/save",t.form).then((function(e){t.swalTransactionCompleted(),t.is_saving=!1,t.$emit("addProjectLocationStructure")})).catch((function(e){t.swal_transaction_error_data.text=e.response.data,t.swalRequestError(),t.is_saving=!1})))}))}}},n=o,c=r("2877"),l=Object(c["a"])(n,i,a,!1,null,null,null);e["a"]=l.exports},edf9:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("nav",{staticClass:"bg-white",attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[t.is_saving?r("li",{staticClass:"breadcrumb-item text-dark"},[t._v("Loading...")]):t._l(t.crumbs,(function(e){return r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:e.link}},[t._v(" "+t._s(e.label)+" ")])],1)}))],2)])])},a=[],s=(r("56d7"),{data:function(){return{crumbs:[{label:"",link:""}],is_saving:!1}},created:function(){this.setCrumbs()},methods:{setCrumbs:function(){var t=this;this.is_saving=!0,"undefined"!=typeof this.$route.params.project_location_id&&"undefined"==typeof this.$route.params.project_location_structure_id?this.axios.get("crumbs/generate_from_location",{params:{id:this.$route.params.project_location_id}}).then((function(e){t.crumbs=[],t.crumbs.push({label:e.data.location_description,link:"/projects/"+e.data.id+"/"+e.data.location_id}),t.is_saving=!1})).catch((function(t){return console.log(t)})):"undefined"!=typeof this.$route.params.project_location_structure_id&&"undefined"==typeof this.$route.params.project_location_structure_item_id?this.axios.get("crumbs/generate_from_structure",{params:{id:this.$route.params.project_location_structure_id}}).then((function(e){t.crumbs=[],t.crumbs.push({label:e.data.location_description,link:"/projects/"+e.data.id+"/"+e.data.location_id}),t.crumbs.push({label:e.data.structure_description,link:"/projects/"+e.data.id+"/"+e.data.location_id+"/"+e.data.structure_id}),t.is_saving=!1})).catch((function(t){return console.log(t)})):"undefined"!=typeof this.$route.params.project_location_structure_item_id&&this.axios.get("crumbs/generate_from_item",{params:{id:this.$route.params.project_location_structure_item_id}}).then((function(e){t.crumbs=[],t.crumbs.push({label:e.data.location_description,link:"/projects/"+e.data.id+"/"+e.data.location_id}),t.crumbs.push({label:e.data.structure_description,link:"/projects/"+e.data.id+"/"+e.data.location_id+"/"+e.data.structure_id}),t.crumbs.push({label:e.data.item_description,link:"/projects/"+e.data.id+"/"+e.data.location_id+"/"+e.data.structure_id+"/"+e.data.item_id}),t.is_saving=!1})).catch((function(t){return console.log(t)}))}}}),o=s,n=r("2877"),c=Object(n["a"])(o,i,a,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-a9c08694.43ff353e.js.map